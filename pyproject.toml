[tool.black]
exclude = '/(venv*|.tox)'

[tool.isort]
profile = "black"

[tool.pytest.ini_options]
markers = [
    "epics_protocol: (EpicsProtocol) The protocol used for the test",
    "schema: (str) The streaming-data-type of the test",
    "serialiser_update_period_ms: (int) Update period (ms) for any created Serialiser",
]
testpaths = [
    "tests",
]
addopts = "-s"
junit_family = "xunit2"

[tool.tox]
legacy_tox_ini = """
[tox]
envlist = py38, py39, py310
isolated_build = true
skipsdist=true

[testenv]
deps =
    -r{toxinidir}/requirements.txt
    -r{toxinidir}/requirements-dev.txt
commands =
    python -m pytest {posargs}
"""

[tool.mypy]
python_version = 3.7
check_untyped_defs = true

[[tool.mypy.overrides]]
module = "confluent_kafka.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "streaming_data_types.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "numpy.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "graypy.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "caproto.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "pytest.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "p4p.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "configargparse.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "setuptools.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "flatbuffers.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "integration_tests.*"
ignore_errors = true

[[tool.mypy.overrides]]
module = "forwarder.repeat_timer.*"
ignore_errors = true

[[tool.mypy.overrides]]
module = "contract_tests.*"
ignore_errors = true

[[tool.mypy.overrides]]
module = "integration_tests.smoke_tests.*"
ignore_errors = true

